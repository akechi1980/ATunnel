/**
 *   SettingConfig
 * 
 * 
 * 
 */

import * as fs from 'fs';

export class SettingConfig{
    public version : string = "0.0.2"
    
    //............Host And Ports Setting............
    //LocalServer Setting
    public LocalServer_ListenHost : string = "0.0.0.0";
    public LocalServer_ListenPort : number = 2204;
    
    //RemoteServer Setting
    public RemoteServer_Address : string = "172.104.113.168";
    public RemoteServer_ListenHost : string = "0.0.0.0";
    public RemoteServer_ListenPort : number = 8882;

    //RemoteServer App Setting
    public TargetServerHost : string = "<TargetServerHost>";
    public TargetServerPort : number = 22;

    //............Custom Socket Frameset Format............



    //............Other Setting............
    public isDebug : boolean = false;

    init(filename : string){
       // Get content from file
        var contents = fs.readFileSync(filename);
       // Define to JSON type
        var jsonContent = JSON.parse(contents.toString('UTF8'));
       // Get Value from JSON
        this.LocalServer_ListenHost = jsonContent.LocalServer_ListenHost;
        this.LocalServer_ListenPort = jsonContent.LocalServer_ListenPort;
        this.RemoteServer_Address = jsonContent.RemoteServer_Address;
        this.RemoteServer_ListenHost = jsonContent.RemoteServer_ListenHost;
        this.RemoteServer_ListenPort = jsonContent.RemoteServer_ListenPort;
        this.TargetServerHost = jsonContent.TargetServerHost;
        this.TargetServerPort = jsonContent.TargetServerPort;

        if (this.isDebug) {
        console.log("LocalServer_ListenHost:", jsonContent.LocalServer_ListenHost);
        console.log("LocalServer_ListenPort:", jsonContent.LocalServer_ListenPort);
        console.log("RemoteServer_Address:", jsonContent.RemoteServer_Address);
        console.log("RemoteServer_ListenHost:", jsonContent.RemoteServer_ListenHost);
        console.log("RemoteServer_ListenPort:", jsonContent.RemoteServer_ListenPort);
        console.log("TargetServerHost:", jsonContent.TargetServerHost);
        console.log("TargetServerPort:", jsonContent.TargetServerPort);
       }
    }
}

//TEST
let test = new SettingConfig();
test.isDebug = true;
test.init("SettingConfig.json");
