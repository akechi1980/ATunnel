"use strict";
exports.__esModule = true;
var crypto = require("crypto");
var zlib = require("zlib");
var TunnelUtils = (function () {
    function TunnelUtils() {
    }
    TunnelUtils.prototype.encode = function (inbuf, method, pass) {
        try {
            var cipher = crypto.createCipher(method, pass);
            var encrypted = cipher.update(inbuf);
            encrypted = Buffer.concat([encrypted, cipher.final()]);
        }
        catch (e) {
            console.log(e.message);
        }
        return encrypted;
    };
    TunnelUtils.prototype.decode = function (inbuf, method, pass) {
        try {
            var decipher = crypto.createDecipher(method, pass);
            var encrypted = decipher.update(inbuf);
            encrypted = Buffer.concat([encrypted, decipher.final()]);
        }
        catch (e) {
            console.log(e.message);
        }
        return encrypted;
    };
    TunnelUtils.prototype.zip = function (inbuf) {
        try {
            var encrypted = zlib.gzipSync(inbuf);
        }
        catch (e) {
            console.log(e.message);
        }
        return encrypted;
    };
    TunnelUtils.prototype.unzip = function (inbuf) {
        try {
            var encrypted = zlib.gunzipSync(inbuf);
        }
        catch (e) {
            console.log(e.message);
        }
        return encrypted;
    };
    return TunnelUtils;
}());
exports.TunnelUtils = TunnelUtils;
var test = new TunnelUtils();
var testBuf = Buffer.from('JustTest');
console.log(test.decode(test.encode(testBuf, 'aes192', '123'), 'aes192', '123').toString());
console.log(test.unzip(test.zip(testBuf)).toString());
//# sourceMappingURL=Utils.js.map